



function getHtmlPopupContents_create_work() {
    let html = '';

    html = `
        <div class = "popup_contents_top">
            <div class = "popup_contents_top_left md-ripples" onclick = "backPopupContents();" onmouseenter = "hoverInformation(this, getLanguage('popup_contents:back'));">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="50" height="50" viewBox="0 0 50 50"><defs><clipPath id="b"><rect width="50" height="50"></rect></clipPath></defs><g id="a" clip-path="url(#b)"><g transform="translate(-12.086 -0.24)"><rect width="3" height="35" rx="1.5" transform="translate(36.399 0.479) rotate(45)"></rect><rect width="3" height="35" rx="1.5" transform="translate(38.521 47.879) rotate(135)"></rect></g><rect width="49" height="3" rx="1.5" transform="translate(1 23.5)"></rect></g></svg>
            </div>
            <div class = "popup_contents_top_right">
                ` + getLanguage("menu_name:creator_guide") + `
            </div>
        </div>
        <div class = "create_work_creator_guide">
            <div class = "menu_creator_guide_top">
                <div class = "menu_creator_guide_top_banner img_wrap">
                    <img src = "/IMG/creator_guide.webp?v=2" onload = "imageLoad(event);" alt = "">
                </div>
                <div class = "menu_creator_guide_top_title">
                    ` + getLanguage("menu_creator_guide_top_title") + `
                </div>
                <div class = "menu_creator_guide_top_description">
                    ` + getLanguage("menu_creator_guide_top_description") + `
                </div>
                <div class = "menu_creator_guide_top_notice">
                    <div class = "menu_creator_guide_top_notice_icon">
                        <!-- Generated by IcoMoon.io -->
                        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.070c-1.884-1.821-3.053-4.37-3.053-7.193 0-5.523 4.477-10 10-10 2.823 0 5.372 1.169 7.19 3.050l0.003 0.003c1.737 1.796 2.807 4.247 2.807 6.947 0 5.523-4.477 10-10 10-2.7 0-5.151-1.070-6.95-2.81l0.003 0.003zM9 5v6h2v-6h-2zM9 13v2h2v-2h-2z"></path></svg>
                    </div>
                    <div class = "menu_creator_guide_top_notice_text">
                        ` + getLanguage("menu_creator_guide_top_notice_text") + `
                    </div>
                </div>
            </div>
            <div class = "menu_creator_guide_line"></div>
            <div class = "menu_creator_guide_items">
                <div class = "menu_creator_guide_item">
                    <div class = "menu_creator_guide_item_left">
                        <div class = "menu_creator_guide_item_left_box">
                            1
                        </div>
                    </div>
                    <div class = "menu_creator_guide_item_right">
                        <div class = "menu_creator_guide_item_right_title">
                            ` + getLanguage("menu_creator_guide_contents_title:0") + `
                        </div>
                        <div class = "menu_creator_guide_item_right_description">
                            ` + getLanguage("menu_creator_guide_contents_description:0") + `
                        </div>
                    </div>
                </div>
                <div class = "menu_creator_guide_item">
                    <div class = "menu_creator_guide_item_left">
                        <div class = "menu_creator_guide_item_left_box">
                            2
                        </div>
                    </div>
                    <div class = "menu_creator_guide_item_right">
                        <div class = "menu_creator_guide_item_right_title">
                        ` + getLanguage("menu_creator_guide_contents_title:1") + `
                        </div>
                        <div class = "menu_creator_guide_item_right_description">
                            ` + getLanguage("menu_creator_guide_contents_description:1") + `
                        </div>
                    </div>
                </div>
                <div class = "menu_creator_guide_item">
                    <div class = "menu_creator_guide_item_left">
                        <div class = "menu_creator_guide_item_left_box">
                            3
                        </div>
                    </div>
                    <div class = "menu_creator_guide_item_right">
                        <div class = "menu_creator_guide_item_right_title">
                            ` + getLanguage("menu_creator_guide_contents_title:2") + `
                        </div>
                        <div class = "menu_creator_guide_item_right_description">
                            ` + getLanguage("menu_creator_guide_contents_description:2") + `
                        </div>
                    </div>
                </div>
                <div class = "menu_creator_guide_item">
                    <div class = "menu_creator_guide_item_left">
                        <div class = "menu_creator_guide_item_left_box">
                            4
                        </div>
                    </div>
                    <div class = "menu_creator_guide_item_right">
                        <div class = "menu_creator_guide_item_right_title">
                            ` + getLanguage("menu_creator_guide_contents_title:3") + `
                        </div>
                        <div class = "menu_creator_guide_item_right_description">
                            ` + getLanguage("menu_creator_guide_contents_description:3") + `
                        </div>
                    </div>
                </div>
            </div>
            <div class = "menu_creator_guide_line"></div>
            <div class = "menu_creator_guide_bottom">
                <div class = "menu_creator_guide_bottom_description">
                    ` + getLanguage("menu_creator_guide_bottom_description") + `
                </div>
            </div>
            <div class = "create_work_creator_guide_bottom">
                <div class = "create_work_creator_guide_bottom_button md-ripples" onclick = "setTimeout(() => { setHtmlPopupContents(getHtmlPopupContents_create_work_step2()); }, 100);">
                    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19.293 5.293l-10.293 10.293-4.293-4.293c-0.391-0.391-1.024-0.391-1.414 0s-0.391 1.024 0 1.414l5 5c0.391 0.391 1.024 0.391 1.414 0l11-11c0.391-0.391 0.391-1.024 0-1.414s-1.024-0.391-1.414 0z"></path></svg>
                    <span>` + getLanguage("create_work_creator_guide_bottom_button") + `</span>
                </div>
            </div>
        </div>
        <div style = "width: 700px;"></div>
    `;

    return html;
}





function getHtmlPopupContents_create_work_step2() {
    let html = '';

    html += `
        <div class = "popup_contents_top">
            <div class = "popup_contents_top_left md-ripples" onclick = "backPopupContents();" onmouseenter = "hoverInformation(this, getLanguage('popup_contents:back'));">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="50" height="50" viewBox="0 0 50 50"><defs><clipPath id="b"><rect width="50" height="50"></rect></clipPath></defs><g id="a" clip-path="url(#b)"><g transform="translate(-12.086 -0.24)"><rect width="3" height="35" rx="1.5" transform="translate(36.399 0.479) rotate(45)"></rect><rect width="3" height="35" rx="1.5" transform="translate(38.521 47.879) rotate(135)"></rect></g><rect width="49" height="3" rx="1.5" transform="translate(1 23.5)"></rect></g></svg>
            </div>
            <div class = "popup_contents_top_right">
                ` + getLanguage("workspace_dashboard_top_create_work") + `
            </div>
        </div>
    `;

    html += `
        <div class = "create_work_step2">
            <div class = "create_work_step2_option">
                <div class = "create_work_step2_option_title">
                    ` + getLanguage("work_settings_type") + `
                </div>
                <div class = "create_work_step2_option_box md-ripples" id = "create_work_option_work_type" value = "0" onclick = "selectList(this, create_work_select_list('work_type'));">
                    <div class = "create_work_step2_option_box_title value_title">
                        ` + getLanguage('work_settings_work_type:0') + `
                    </div>
                    <div class = "create_work_step2_option_box_icon">
                        <!-- Generated by IcoMoon.io -->
                        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.984 9.984h10.031l-5.016 5.016z"></path></svg>
                    </div>
                </div>
            </div>

            <div class = "create_work_warning" style = "margin-top: 10px;">
                <div class = "create_work_warning_icon">
                    <!-- Generated by IcoMoon.io -->
                    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.070c-1.884-1.821-3.053-4.37-3.053-7.193 0-5.523 4.477-10 10-10 2.823 0 5.372 1.169 7.19 3.050l0.003 0.003c1.737 1.796 2.807 4.247 2.807 6.947 0 5.523-4.477 10-10 10-2.7 0-5.151-1.070-6.95-2.81l0.003 0.003zM9 5v6h2v-6h-2zM9 13v2h2v-2h-2z"></path></svg>
                </div>
                <div class = "create_work_warning_text">
                    ` + getLanguage("work_settings_type_warning_message") + `
                </div>
            </div>

            <div class = "create_work_input" style = "margin-top: 20px;">
                <div class = "create_work_input_top">
                    <div class = "create_work_input_top_title">
                        ` + getLanguage("work_settings_title") + `
                    </div>
                    <div class = "create_work_input_top_icon" onmouseenter = "hoverHelp(this, getLanguage('work_settings_detailed_description_title'));">
                        <!-- Generated by IcoMoon.io -->
                        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 6q1.641 0 2.813 1.172t1.172 2.813q0 1.266-1.5 2.602t-1.5 2.414h-1.969q0-1.078 0.469-1.852t1.031-1.125 1.031-0.867 0.469-1.172q0-0.797-0.609-1.383t-1.406-0.586-1.406 0.586-0.609 1.383h-1.969q0-1.641 1.172-2.813t2.813-1.172zM12 20.016q3.281 0 5.648-2.367t2.367-5.648-2.367-5.648-5.648-2.367-5.648 2.367-2.367 5.648 2.367 5.648 5.648 2.367zM12 2.016q4.125 0 7.055 2.93t2.93 7.055-2.93 7.055-7.055 2.93-7.055-2.93-2.93-7.055 2.93-7.055 7.055-2.93zM11.016 18v-2.016h1.969v2.016h-1.969z"></path></svg>
                    </div>
                </div>
                <input id = "create_work_input_title" type = "text" placeholder = "` + getLanguage("work_settings_please_enter") + `" onfocus = "create_work_input_focus(this);" onkeydown = "checkButtonCreateWork();" >
            </div>

            <div class = "create_work_input" style = "margin-top: 20px;">
                <div class = "create_work_input_top">
                    <div class = "create_work_input_top_title">
                        ` + getLanguage("work_settings_description") + `
                    </div>
                    <div class = "create_work_input_top_icon" onmouseenter = "hoverHelp(this, getLanguage('work_settings_detailed_description_description'));">
                        <!-- Generated by IcoMoon.io -->
                        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 6q1.641 0 2.813 1.172t1.172 2.813q0 1.266-1.5 2.602t-1.5 2.414h-1.969q0-1.078 0.469-1.852t1.031-1.125 1.031-0.867 0.469-1.172q0-0.797-0.609-1.383t-1.406-0.586-1.406 0.586-0.609 1.383h-1.969q0-1.641 1.172-2.813t2.813-1.172zM12 20.016q3.281 0 5.648-2.367t2.367-5.648-2.367-5.648-5.648-2.367-5.648 2.367-2.367 5.648 2.367 5.648 5.648 2.367zM12 2.016q4.125 0 7.055 2.93t2.93 7.055-2.93 7.055-7.055 2.93-7.055-2.93-2.93-7.055 2.93-7.055 7.055-2.93zM11.016 18v-2.016h1.969v2.016h-1.969z"></path></svg>
                    </div>
                </div>
                <div id = "create_work_input_description" class = "create_work_input_textbox" contenteditable = "true" placeholder = "` + getLanguage("work_settings_please_enter") + `" onfocus = "create_work_input_focus(this);" onkeydown = "textbox_remove_spaces(this); checkButtonCreateWork();" onpaste = "contenteditable_paste(event);"></div>
            </div>

            <div class = "create_work_step2_option" style = "margin-top: 20px;">
                <div class = "create_work_step2_option_title">
                    ` + getLanguage("work_settings_public_status") + `
                </div>
                <div class = "create_work_step2_option_box md-ripples" id = "create_work_option_public_status" value = "2" onclick = "selectList(this, create_work_select_list('public_status'));">
                    <div class = "create_work_step2_option_box_title value_title">
                        ` + getLanguage("public_status:2") + `
                    </div>
                    <div class = "create_work_step2_option_box_icon">
                        <!-- Generated by IcoMoon.io -->
                        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.984 9.984h10.031l-5.016 5.016z"></path></svg>
                    </div>
                </div>
            </div>

            <div class = "create_work_step2_option" style = "margin-top: 20px;">
                <div class = "create_work_step2_option_title">
                    ` + getLanguage("work_settings_user_age") + `
                </div>
                <div class = "create_work_step2_option_box md-ripples" id = "create_work_option_user_age" value = "0" onclick = "selectList(this, create_work_select_list('user_age'));">
                    <div class = "create_work_step2_option_box_title value_title">
                        ` + getLanguage('work_settings_user_age:0') + `
                    </div>
                    <div class = "create_work_step2_option_box_icon">
                        <!-- Generated by IcoMoon.io -->
                        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.984 9.984h10.031l-5.016 5.016z"></path></svg>
                    </div>
                </div>
            </div>

            <div class = "create_work_step2_option" style = "margin-top: 20px;">
                <div class = "create_work_step2_option_title">
                    ` + getLanguage("work_settings_original_language") + `
                </div>
                <div class = "create_work_step2_option_box md-ripples" id = "create_work_option_original_language" value = "` + userLanguage + `" onclick = "selectList(this, getLanguageSelectItem());">
                    <div class = "create_work_step2_option_box_title value_title">
                        ` + getLanguage('language', userLanguage) + `
                    </div>
                    <div class = "create_work_step2_option_box_icon">
                        <!-- Generated by IcoMoon.io -->
                        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.984 9.984h10.031l-5.016 5.016z"></path></svg>
                    </div>
                </div>
            </div>

            <div class = "create_work_step2_option" style = "margin-top: 20px;">
                <div class = "create_work_step2_option_title">
                    ` + getLanguage("work_settings_genre") + `
                    <div class = "create_work_input_top_icon" onmouseenter = "hoverHelp(this, getLanguage('work_settings_detailed_description_genre'));">
                        <!-- Generated by IcoMoon.io -->
                        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 6q1.641 0 2.813 1.172t1.172 2.813q0 1.266-1.5 2.602t-1.5 2.414h-1.969q0-1.078 0.469-1.852t1.031-1.125 1.031-0.867 0.469-1.172q0-0.797-0.609-1.383t-1.406-0.586-1.406 0.586-0.609 1.383h-1.969q0-1.641 1.172-2.813t2.813-1.172zM12 20.016q3.281 0 5.648-2.367t2.367-5.648-2.367-5.648-5.648-2.367-5.648 2.367-2.367 5.648 2.367 5.648 5.648 2.367zM12 2.016q4.125 0 7.055 2.93t2.93 7.055-2.93 7.055-7.055 2.93-7.055-2.93-2.93-7.055 2.93-7.055 7.055-2.93zM11.016 18v-2.016h1.969v2.016h-1.969z"></path></svg>
                    </div>
                </div>
                <div class = "create_work_step2_genre_box" id = "create_work_step2_genre">
                    <div class = "create_work_step2_genre_box_button_click"></div>
                    <div class = "create_work_step2_genre_box_button md-ripples" onclick = "createWorkAddGenre(this, getWorkGenre());">
                        <!-- Generated by IcoMoon.io -->
                        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 13h6v6c0 0.552 0.448 1 1 1s1-0.448 1-1v-6h6c0.552 0 1-0.448 1-1s-0.448-1-1-1h-6v-6c0-0.552-0.448-1-1-1s-1 0.448-1 1v6h-6c-0.552 0-1 0.448-1 1s0.448 1 1 1z"></path></svg>
                        ` + getLanguage("work_settings_add_genre") + `
                    </div>
                    <div class = "create_work_step2_genre_box_valuebox"></div>
                </div>
            </div>

            <div class = "create_work_step2_option" style = "margin-top: 20px;">
                <div class = "create_work_step2_option_title">
                    ` + getLanguage("work_settings_tag") + `
                    <div class = "create_work_input_top_icon" onmouseenter = "hoverHelp(this, getLanguage('work_settings_detailed_description_tag'));">
                        <!-- Generated by IcoMoon.io -->
                        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 6q1.641 0 2.813 1.172t1.172 2.813q0 1.266-1.5 2.602t-1.5 2.414h-1.969q0-1.078 0.469-1.852t1.031-1.125 1.031-0.867 0.469-1.172q0-0.797-0.609-1.383t-1.406-0.586-1.406 0.586-0.609 1.383h-1.969q0-1.641 1.172-2.813t2.813-1.172zM12 20.016q3.281 0 5.648-2.367t2.367-5.648-2.367-5.648-5.648-2.367-5.648 2.367-2.367 5.648 2.367 5.648 5.648 2.367zM12 2.016q4.125 0 7.055 2.93t2.93 7.055-2.93 7.055-7.055 2.93-7.055-2.93-2.93-7.055 2.93-7.055 7.055-2.93zM11.016 18v-2.016h1.969v2.016h-1.969z"></path></svg>
                    </div>
                </div>
                <div class = "create_work_step2_tag_box">
                    <div class = "create_work_step2_tag_box_valuebox_wrap" id = "create_work_step2_tag"></div>
                    <input type = "text" placeholder = "` + getLanguage("work_settings_please_enter_tag") + `" onfocus = "create_work_input_focus(this);" onkeydown = "if (window.event.keyCode == 13) { createWorkAddTag(this); }" >
                </div>
            </div>

            <div class = "create_work_step2_bottom">
                <div class = "create_work_step2_bottom_button create_work_step2_bottom_button_disabled md-ripples" onclick = "createWorkRequestButtonClick();">
                    <!-- Generated by IcoMoon.io -->
                    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M16.88 9.1c1.795 0.419 3.111 2.006 3.111 3.9 0 2.206-1.786 3.995-3.991 4h-11c-0.001 0-0.003 0-0.005 0-2.761 0-5-2.239-5-5 0-2.409 1.704-4.421 3.973-4.894l0.032-0.006v-0.1c0-0.001 0-0.002 0-0.004 0-1.657 1.343-3 3-3 0.56 0 1.085 0.154 1.534 0.421l-0.014-0.008c0.899-0.889 2.136-1.438 3.5-1.438 2.75 0 4.98 2.23 4.98 4.98 0 0.017-0 0.033-0 0.050l0-0.003c0 0.38-0.040 0.74-0.12 1.1zM11 11h3l-4-4-4 4h3v3h2v-3z"></path></svg>
                    ` + getLanguage("workspace_dashboard_top_create_work") + `
                </div>
            </div>
        </div>
        <div style = "width: 500px;"></div>
    `;

    return html;
}
function create_work_input_focus(el) {
    let parent = el.parentNode;
    parent.classList.add("create_work_input_focus");

    el.addEventListener("blur", create_work_input_blur);
}
function create_work_input_blur(e) {
    let target = e.target;

    let parent = target.parentNode;
    parent.classList.remove("create_work_input_focus");
}
function textbox_remove_spaces(el) {
    setTimeout(() => {
        let text = el.innerHTML;
        if (text == "<div><br></div>" || text == "<br>") {
            el.innerHTML = "";
        }
    }, 1);
}










function create_work_select_list(type, removeDescription) {
    if (type == "public_status") {
        let items = new Array();
        items[0] = {
            "icon": '<!-- Generated by IcoMoon.io --><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 12h14c0.276 0 0.525 0.111 0.707 0.293s0.293 0.431 0.293 0.707v7c0 0.276-0.111 0.525-0.293 0.707s-0.431 0.293-0.707 0.293h-14c-0.276 0-0.525-0.111-0.707-0.293s-0.293-0.431-0.293-0.707v-7c0-0.276 0.111-0.525 0.293-0.707s0.431-0.293 0.707-0.293zM8 10v-3c-0.001-1.106 0.445-2.105 1.169-2.831 0.723-0.724 1.719-1.172 2.821-1.174 1.030 0.003 1.948 0.378 2.652 1 0.638 0.565 1.097 1.332 1.28 2.209 0.113 0.541 0.642 0.888 1.183 0.775s0.888-0.642 0.775-1.183c-0.272-1.307-0.958-2.454-1.912-3.299-1.060-0.938-2.452-1.504-3.973-1.502-1.657 0.002-3.157 0.676-4.241 1.762s-1.756 2.587-1.754 4.243v3h-1c-0.828 0-1.58 0.337-2.121 0.879s-0.879 1.293-0.879 2.121v7c0 0.828 0.337 1.58 0.879 2.121s1.293 0.879 2.121 0.879h14c0.828 0 1.58-0.337 2.121-0.879s0.879-1.293 0.879-2.121v-7c0-0.828-0.337-1.58-0.879-2.121s-1.293-0.879-2.121-0.879z"></path></svg>',
            "title": getLanguage("public_status:0"),
            "description": getLanguage("public_status_description:0"),
            "value": 0
        }
        items[1] = {
            "icon": '<!-- Generated by IcoMoon.io --><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15 8h3c1.105 0 2.103 0.447 2.828 1.172s1.172 1.723 1.172 2.828-0.447 2.103-1.172 2.828-1.723 1.172-2.828 1.172h-3c-0.552 0-1 0.448-1 1s0.448 1 1 1h3c1.657 0 3.158-0.673 4.243-1.757s1.757-2.586 1.757-4.243-0.673-3.158-1.757-4.243-2.586-1.757-4.243-1.757h-3c-0.552 0-1 0.448-1 1s0.448 1 1 1zM9 16h-3c-1.105 0-2.103-0.447-2.828-1.172s-1.172-1.723-1.172-2.828 0.447-2.103 1.172-2.828 1.723-1.172 2.828-1.172h3c0.552 0 1-0.448 1-1s-0.448-1-1-1h-3c-1.657 0-3.158 0.673-4.243 1.757s-1.757 2.586-1.757 4.243 0.673 3.158 1.757 4.243 2.586 1.757 4.243 1.757h3c0.552 0 1-0.448 1-1s-0.448-1-1-1zM8 13h8c0.552 0 1-0.448 1-1s-0.448-1-1-1h-8c-0.552 0-1 0.448-1 1s0.448 1 1 1z"></path></svg>',
            "title": getLanguage("public_status:1"),
            "description": getLanguage("public_status_description:1"),
            "value": 1
        }
        items[2] = {
            "icon": '<!-- Generated by IcoMoon.io --><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 12h14c0.276 0 0.525 0.111 0.707 0.293s0.293 0.431 0.293 0.707v7c0 0.276-0.111 0.525-0.293 0.707s-0.431 0.293-0.707 0.293h-14c-0.276 0-0.525-0.111-0.707-0.293s-0.293-0.431-0.293-0.707v-7c0-0.276 0.111-0.525 0.293-0.707s0.431-0.293 0.707-0.293zM18 10v-3c0-1.657-0.673-3.158-1.757-4.243s-2.586-1.757-4.243-1.757-3.158 0.673-4.243 1.757-1.757 2.586-1.757 4.243v3h-1c-0.828 0-1.58 0.337-2.121 0.879s-0.879 1.293-0.879 2.121v7c0 0.828 0.337 1.58 0.879 2.121s1.293 0.879 2.121 0.879h14c0.828 0 1.58-0.337 2.121-0.879s0.879-1.293 0.879-2.121v-7c0-0.828-0.337-1.58-0.879-2.121s-1.293-0.879-2.121-0.879zM8 10v-3c0-1.105 0.447-2.103 1.172-2.828s1.723-1.172 2.828-1.172 2.103 0.447 2.828 1.172 1.172 1.723 1.172 2.828v3z"></path></svg>',
            "title": getLanguage("public_status:2"),
            "description": getLanguage("public_status_description:2"),
            "value": 2
        }

        if (removeDescription != null && removeDescription == true) {
            for (let i = 0; i < items.length; i++) {
                items[i]["description"] = null;
            }
        }

        return items;
    } else if (type == "user_age") {
        let items = new Array();
        items[0] = {
            "title": getLanguage("work_settings_user_age:0"),
            "description": getLanguage("work_settings_user_age_description:0"),
            "value": 0
        }
        items[1] = {
            "title": getLanguage("work_settings_user_age:1"),
            "description": getLanguage("work_settings_user_age_description:1"),
            "value": 1
        }
        items[2] = {
            "title": getLanguage("work_settings_user_age:2"),
            "description": getLanguage("work_settings_user_age_description:2"),
            "value": 2
        }

        if (removeDescription != null && removeDescription == true) {
            for (let i = 0; i < items.length; i++) {
                items[i]["description"] = null;
            }
        }

        return items;
    } else if (type == "original_language") {
        let items = new Array();
        for (let i = 0; i < languages.length; i++) {
            items[items.length] = {
                "title": getLanguage("language:" + languages[i]),
                "value": languages[i]
            }
        }
        return items;
    } else if (type == "viewer_mode") {
        let items = new Array();
        items[0] = {
            "title": getLanguage("work_settings_viewer_mode:0"),
            "value": 0
        }
        items[1] = {
            "title": getLanguage("work_settings_viewer_mode:1"),
            "value": 1
        }
        return items;
    } else if (type == "work_type") {
        let items = new Array();
        items[0] = {
            "title": getLanguage("work_settings_contents_type:0"),
            "description": getLanguage("work_settings_work_type_description:0"),
            "icon": '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="50" height="50" viewBox="0 0 50 50"><defs><clipPath id="b"><rect width="50" height="50"/></clipPath></defs><g id="a" clip-path="url(#b)"><path d="M-72.583-761.2c-2.946-3.826-6.227-5.765-9.755-5.765h0c-6.133,0-11.229,5.774-11.281,5.833a1.5,1.5,0,0,1-1.126.517h-.006a1.5,1.5,0,0,1-1.124-.506c-3.431-3.877-7.015-5.844-10.651-5.844h0c-6.23,0-10.743,5.713-10.788,5.771a1.5,1.5,0,0,1-1.67.5A1.5,1.5,0,0,1-120-762.116v-30.063a1.5,1.5,0,0,1,.318-.922c3.574-4.578,7.7-6.9,12.273-6.9h0c5.73,0,10.491,3.7,12.606,5.656C-91.165-798.1-87.269-800-83.2-800c7.569,0,12.778,6.622,13,6.9a1.5,1.5,0,0,1,.313.917v30.063a1.5,1.5,0,0,1-1.017,1.42,1.5,1.5,0,0,1-.483.08A1.5,1.5,0,0,1-72.583-761.2Zm-20.812-4.26c2.423-1.988,6.408-4.5,11.056-4.5h0a13.728,13.728,0,0,1,9.444,3.972v-25.638a19,19,0,0,0-2.779-2.56A12.553,12.553,0,0,0-83.2-797c-3.485,0-6.913,1.867-10.191,5.549ZM-117-791.653v25.91a16.593,16.593,0,0,1,10.471-4.223h0a15.532,15.532,0,0,1,10.132,4.125v-25.873c-1.474-1.438-5.9-5.285-11.013-5.285h0C-110.882-797-114.105-795.2-117-791.653Z" transform="translate(119.895 805.308)"/></g></svg>',
            "value": 0
        }
        items[1] = {
            "title": getLanguage("work_settings_contents_type:1"),
            "description": getLanguage("work_settings_work_type_description:1"),
            "icon": '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="50" height="50" viewBox="0 0 50 50"><defs><clipPath id="b"><rect width="50" height="50"/></clipPath></defs><g id="a" clip-path="url(#b)"><path d="M3,3H3V18H47V3H3M3,0H47a3,3,0,0,1,3,3V18a3,3,0,0,1-3,3H3a3,3,0,0,1-3-3V3A3,3,0,0,1,3,0Z"/><path d="M1.5,925H27a1.5,1.5,0,0,1,1.329,2.195l-11.5,22A1.5,1.5,0,0,1,15.5,950H1.508a1.5,1.5,0,0,1-1.5-1.5L0,926.5A1.5,1.5,0,0,1,1.5,925Zm23.023,3H3l.007,19H14.592Z" transform="translate(0 -900)"/><path d="M1.5,927H26a1.5,1.5,0,0,1,1.33,2.194l-11.5,22.03a1.5,1.5,0,0,1-1.33.806h-.006l-13.5-.053A1.5,1.5,0,0,1-.5,950.442L0,928.466A1.5,1.5,0,0,1,1.5,927Zm22.025,3H2.966l-.432,18.982,11.058.044Z" transform="translate(49.5 977) rotate(180)"/></g></svg>',
            "value": 1
        }
        items[2] = {
            "title": getLanguage("work_settings_contents_type:2"),
            "description": getLanguage("work_settings_work_type_description:1"),
            "icon": '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="50" height="50" viewBox="0 0 50 50"><defs><clipPath id="b"><rect width="50" height="50"></rect></clipPath></defs><g id="a" clip-path="url(#b)"><path d="M121.5,500h47a1.5,1.5,0,0,1,1.5,1.5V516a1.5,1.5,0,0,1-1.218,1.473l-47,9A1.5,1.5,0,0,1,120,525V501.5A1.5,1.5,0,0,1,121.5,500Zm45.5,3H123v20.186l44-8.426Z" transform="translate(-120 -500)"></path><path d="M121.5,500h47a1.5,1.5,0,0,1,1.5,1.5V516a1.5,1.5,0,0,1-1.218,1.473l-47,9A1.5,1.5,0,0,1,120,525V501.5A1.5,1.5,0,0,1,121.5,500Zm45.5,3H123v20.186l44-8.426Z" transform="translate(170 550) rotate(180)"></path></g></svg>',
            "value": 2
        }
        if (loginStatus["animator"] == true) {
            items[3] = {
                "title": getLanguage("work_settings_contents_type:3"),
                "description": getLanguage("work_settings_work_type_description:2"),
                "icon": '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="50" height="50" viewBox="0 0 50 50"><defs><clipPath id="b"><rect width="50" height="50"/></clipPath></defs><g id="a" clip-path="url(#b)"><path d="M6.712,1000a1.5,1.5,0,0,1,.745.2l41.052,23.5a1.5,1.5,0,0,1,0,2.6L7.458,1049.8a1.5,1.5,0,0,1-2.245-1.3v-47a1.5,1.5,0,0,1,1.5-1.5Zm38.032,25L8.212,1004.087v41.826Z" transform="translate(0.736 -1000)"/></g></svg>',
                "value": 3
            }
        }

        return items;
    }

    return null;
}







function getWorkGenre() {
    let array = new Array();

    array[array.length] = {
        "value": '0000001'
    }
    array[array.length] = {
        "value": '0000002'
    }
    array[array.length] = {
        "value": '0000003'
    }
    array[array.length] = {
        "value": '0000004'
    }
    array[array.length] = {
        "value": '0000005'
    }
    array[array.length] = {
        "value": '0000006'
    }
    array[array.length] = {
        "value": '0000007'
    }
    array[array.length] = {
        "value": '0000008'
    }
    array[array.length] = {
        "value": '0000009'
    }
    array[array.length] = {
        "value": '0000010'
    }
    array[array.length] = {
        "value": '0000011'
    }
    array[array.length] = {
        "value": '0000012'
    }
    array[array.length] = {
        "value": '0000013'
    }
    array[array.length] = {
        "value": '0000014'
    }
    array[array.length] = {
        "value": '0000015'
    }
    array[array.length] = {
        "value": '0000016'
    }
    array[array.length] = {
        "value": '0000017'
    }
    array[array.length] = {
        "value": '0000018'
    }
    array[array.length] = {
        "value": '0000019'
    }
    array[array.length] = {
        "value": '0000020'
    }
    array[array.length] = {
        "value": '0000021'
    }
    array[array.length] = {
        "value": '0000022'
    }
    array[array.length] = {
        "value": '0000023'
    }
    array[array.length] = {
        "value": '0000024'
    }
    array[array.length] = {
        "value": '0000025'
    }
    array[array.length] = {
        "value": '0000026'
    }
    array[array.length] = {
        "value": '0000027'
    }
    array[array.length] = {
        "value": '0000028'
    }
    array[array.length] = {
        "value": '0000029'
    }
    array[array.length] = {
        "value": '0000030'
    }
    array[array.length] = {
        "value": '0000031'
    }
    array[array.length] = {
        "value": '0000032'
    }
    array[array.length] = {
        "value": '0000033'
    }
    array[array.length] = {
        "value": '0000034'
    }
    array[array.length] = {
        "value": '0000035'
    }
    array[array.length] = {
        "value": '0000036'
    }
    array[array.length] = {
        "value": '0000037'
    }
    array[array.length] = {
        "value": '0000038'
    }
    array[array.length] = {
        "value": '0000039'
    }
    array[array.length] = {
        "value": '0000040'
    }
    array[array.length] = {
        "value": '0000041'
    }
    array[array.length] = {
        "value": '0000042'
    }
    array[array.length] = {
        "value": '0000043'
    }
    array[array.length] = {
        "value": '0000044'
    }
    array[array.length] = {
        "value": '0000045'
    }
    array[array.length] = {
        "value": '0000046'
    }
    array[array.length] = {
        "value": '0000047'
    }
    array[array.length] = {
        "value": '0000048'
    }
    array[array.length] = {
        "value": '0000049'
    }
    array[array.length] = {
        "value": '0000050'
    }
    array[array.length] = {
        "value": '0000051'
    }
    array[array.length] = {
        "value": '0000052'
    }
    array[array.length] = {
        "value": '0000053'
    }
    array[array.length] = {
        "value": '0000054'
    }
    array[array.length] = {
        "value": '0000055'
    }
    array[array.length] = {
        "value": '0000056'
    }
    array[array.length] = {
        "value": '0000057'
    }

    for (let i = 0; i < array.length; i++) {
        array[i]["title"] = getLanguage("genre:" + array[i]["value"]);
    }

    return array;
}



function checkButtonCreateWork() {
    setTimeout(() => {
        //작품 생성 데이터
        let button = document.getElementsByClassName("create_work_step2_bottom_button")[0];
        let title = document.getElementById("create_work_input_title").value.trim();
        let description = document.getElementById("create_work_input_description").innerText.trim();

        if (title != "" && description != "") {
            button.classList.remove("create_work_step2_bottom_button_disabled");
        } else {
            button.classList.add("create_work_step2_bottom_button_disabled");
        }
    }, 1);
}




function createWorkRequestButtonClick() {
    createWorkRequest();
}
function createWorkRequest() {
    //작품 생성 데이터
    let type = Number.parseInt(document.getElementById("create_work_option_work_type").getAttribute("value"));
    let title = document.getElementById("create_work_input_title").value.trim();
    let description = document.getElementById("create_work_input_description").innerText.replaceAll('\n\n','\n').trim();
    let public_status = document.getElementById("create_work_option_public_status").getAttribute("value");
    let user_age = document.getElementById("create_work_option_user_age").getAttribute("value");
    let original_language = document.getElementById("create_work_option_original_language").getAttribute("value");
    let genre = getValueCreateWorkGenre(document.getElementById("create_work_step2_genre"));
    genre = genre.join(",");
    let tag = getValueCreateWorkTag(document.getElementById("create_work_step2_tag"));
    tag = tag.join(",");

    popupContentsLoading();

    const xhr = new XMLHttpRequest();
    const method = "POST";
    
    xhr.open(method, "/php/work/create.php");
    
    xhr.addEventListener('readystatechange', function (event) {
        const { target } = event;
        if (target.readyState === XMLHttpRequest.DONE) {
            const { status } = target;
            if (status === 0 || (status >= 200 && status < 400)) {
                let xhrHtml = xhr.responseText.trim();
                
                if (xhrHtml == "no permission") {
                    actionMessage(getLanguage("work_create_no_permission"));
                } else if (xhrHtml == "creator guide violation") {
                    actionMessage(getLanguage("work_create_creator_guide_violation"));
                } else {
                    actionMessage(getLanguage("work_create_complete"));
                }
                history.back();
            }
            popupContentsLoadingComplete();
        }
    });
    
    var formData = new FormData();
    
    formData.append("type", type);
    formData.append("title", title);
    formData.append("description", description);
    formData.append("public_status", public_status);
    formData.append("user_age", user_age);
    formData.append("original_language", original_language);
    formData.append("genre", genre);
    formData.append("tag", tag);

    xhr.send(formData);
}