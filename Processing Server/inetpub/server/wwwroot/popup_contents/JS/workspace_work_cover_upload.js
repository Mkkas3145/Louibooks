
function getHtmlPopupContents_workspace_work_upload_cover() {
    let html = '';

    html = `
        <div class = "edit_profile_picture">
            <div class = "popup_contents_top" style = "border-bottom: unset;">
                <div class = "popup_contents_top_left md-ripples" onclick = "backPopupContents();" onmouseenter = "hoverInformation(this, getLanguage('popup_contents:back'));">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="50" height="50" viewBox="0 0 50 50"><defs><clipPath id="b"><rect width="50" height="50"></rect></clipPath></defs><g id="a" clip-path="url(#b)"><g transform="translate(-12.086 -0.24)"><rect width="3" height="35" rx="1.5" transform="translate(36.399 0.479) rotate(45)"></rect><rect width="3" height="35" rx="1.5" transform="translate(38.521 47.879) rotate(135)"></rect></g><rect width="49" height="3" rx="1.5" transform="translate(1 23.5)"></rect></g></svg>
                </div>
                <div class = "popup_contents_top_right">
                    ` + getLanguage("popup_workspace_work_upload_cover_top_title") + `
                </div>
            </div>
            
            <div id = "edit_profile_picture_navigation_wrap">
                <div class = "edit_profile_picture_navigation">
                    <div class = "edit_profile_picture_navigation_item md-ripples edit_profile_picture_navigation_item_selected" onclick = "workspaceWorkUploadCoverContentsChange(1);">
                        <div class = "edit_profile_picture_navigation_item_title">
                            <div class = "edit_profile_picture_navigation_item_icon">
                                <!-- Generated by IcoMoon.io -->
                                <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3.984 6v9.984h16.031v-9.984h-16.031zM20.016 18h3.984v2.016h-24v-2.016h3.984q-0.797 0-1.383-0.609t-0.586-1.406v-9.984q0-0.797 0.586-1.406t1.383-0.609h16.031q0.797 0 1.383 0.609t0.586 1.406v9.984q0 0.797-0.586 1.406t-1.383 0.609z"></path></svg>
                            </div>
                            ` + getLanguage("popup_workspace_work_upload_cover_button_1") + `
                        </div>
                    </div>
                    <div class = "edit_profile_picture_navigation_item md-ripples" onclick = "workspaceWorkUploadCoverContentsChange(2);">
                        <div class = "edit_profile_picture_navigation_item_title">
                            <div class = "edit_profile_picture_navigation_item_icon">
                                <!-- Generated by IcoMoon.io -->
                                <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17.484 12q0.609 0 1.055-0.422t0.445-1.078-0.445-1.078-1.055-0.422-1.055 0.422-0.445 1.078 0.445 1.078 1.055 0.422zM14.484 8.016q0.609 0 1.055-0.445t0.445-1.055-0.445-1.055-1.055-0.445-1.055 0.445-0.445 1.055 0.445 1.055 1.055 0.445zM9.516 8.016q0.609 0 1.055-0.445t0.445-1.055-0.445-1.055-1.055-0.445-1.055 0.445-0.445 1.055 0.445 1.055 1.055 0.445zM6.516 12q0.609 0 1.055-0.422t0.445-1.078-0.445-1.078-1.055-0.422-1.055 0.422-0.445 1.078 0.445 1.078 1.055 0.422zM12 3q3.703 0 6.352 2.344t2.648 5.672q0 2.063-1.477 3.516t-3.539 1.453h-1.734q-0.656 0-1.078 0.445t-0.422 1.055q0 0.516 0.375 0.984t0.375 1.031q0 0.656-0.422 1.078t-1.078 0.422q-3.75 0-6.375-2.625t-2.625-6.375 2.625-6.375 6.375-2.625z"></path></svg>
                            </div>
                            ` + getLanguage("popup_workspace_work_upload_cover_button_2") + `
                        </div>
                    </div>
                </div>
                <div class = "edit_profile_picture_navigation_bottom">
                    <div class = "edit_profile_picture_navigation_bottom_line"></div>
                </div>
            </div>
            <div class = "edit_profile_picture_line"></div>

            <div class = "edit_profile_picture_contents" style = "width: 100%; padding: 0px;">
                ` + getHtmlWorkspaceWorkUploadCoverUploadImage() + `
            </div>
        </div>
    `;

    return html;
}


function getHtmlWorkspaceWorkUploadCoverUploadImage() {
    let html = '';

    html = `
        <div class = "workspace_work_cover_upload_upload_image" ondragenter = "workspaceWorkUploadCoverDragEnter(this);">
            <div class = "workspace_work_cover_upload_upload_image_svg">
                <!-- Generated by IcoMoon.io -->
                <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3.984 6v9.984h16.031v-9.984h-16.031zM20.016 18h3.984v2.016h-24v-2.016h3.984q-0.797 0-1.383-0.609t-0.586-1.406v-9.984q0-0.797 0.586-1.406t1.383-0.609h16.031q0.797 0 1.383 0.609t0.586 1.406v9.984q0 0.797-0.586 1.406t-1.383 0.609z"></path></svg>
            </div>
            <div class = "workspace_work_cover_upload_upload_image_title">
                ` + getLanguage("popup_workspace_work_upload_cover_contents_upload_image_title") + `
            </div>
            <div class = "workspace_work_cover_upload_upload_image_description">
                ` + getLanguage("popup_workspace_work_upload_cover_contents_upload_image_description") + `
            </div>
            <div class = "edit_profile_picture_upload_contents_button md-ripples" onclick = "workspaceWorkUploadCoverButton(this);" style = "margin-top: 30px;">
                <!-- Generated by IcoMoon.io -->
                <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3.984 6v9.984h16.031v-9.984h-16.031zM20.016 18h3.984v2.016h-24v-2.016h3.984q-0.797 0-1.383-0.609t-0.586-1.406v-9.984q0-0.797 0.586-1.406t1.383-0.609h16.031q0.797 0 1.383 0.609t0.586 1.406v9.984q0 0.797-0.586 1.406t-1.383 0.609z"></path></svg>
                ` + getLanguage("popup_workspace_work_upload_cover_contents_upload_image_button") + `
                <input type = "file" onchange = "requestWorkspaceWorkUploadCover(this.files[0]);" accept = "image/png, image/jpeg, image/webp, image/gif" style = "display: none;">
            </div>
        </div>

        <div style = "width: 600px; height: 0px;"></div>
    `;

    return html;
}

function workspaceWorkUploadCoverButton(el) {
    el.getElementsByTagName("input")[0].click();
}

function workspaceWorkUploadCoverDragEnter(el) {
    el.setAttribute("ondrop", "workspaceWorkUploadCoverDrag(this, event);");
    el.setAttribute("ondragover", "workspaceWorkUploadCoverDragOver(this, event);");
    el.setAttribute("ondragend", "workspaceWorkUploadCoverDragEnd(this);");
    el.setAttribute("ondragleave", "workspaceWorkUploadCoverDragEnd(this);");
    el.setAttribute("ondragexit", "workspaceWorkUploadCoverDragEnd(this);");
}
function workspaceWorkUploadCoverDragOver(el, event) {
    el.classList.add("workspace_work_cover_upload_upload_image_drag");

    event.preventDefault();
}
function workspaceWorkUploadCoverDragEnd(el) {
    el.classList.remove("workspace_work_cover_upload_upload_image_drag");
}
function workspaceWorkUploadCoverDrag(el, event) {
    el.classList.remove("workspace_work_cover_upload_upload_image_drag");

    let file = event.dataTransfer.files[0];
    requestWorkspaceWorkUploadCover(file);

    event.preventDefault();
}
function requestWorkspaceWorkUploadCover(file) {
    spinLoading();

    const xhr = new XMLHttpRequest();
    const method = "POST";
    
    xhr.open(method, "https://img.louibooks.com/upload.php");
    
    xhr.addEventListener('readystatechange', function (event) {
        const { target } = event;
        if (target.readyState === XMLHttpRequest.DONE) {
            const { status } = target;
            if (status === 0 || (status >= 200 && status < 400)) {
                let xhrHtml = xhr.responseText;
                let json = JSON.parse(xhrHtml);
                
                workspaceWorkUploadImageAddEl(json["url"]);
                actionMessage(getLanguage("upload_image"));
                history.back();
            }
            spinLoadingComplete();
        }
    });
    
    var formData = new FormData();
    formData.append("imgFile", file);
    formData.append("type", "work_cover");

    xhr.send(formData);
}


function workspaceWorkUploadImageAddEl(url) {
    if (getCurrentMenuName() == "workspace_work_details") {
        let menuNumber = getCurrentMenuNumber();
        let contents = document.getElementById("contents_" + menuNumber);
        let work_cover = contents.getElementsByClassName("workspace_work_cover")[0];
        work_cover.setAttribute("value", "1");
        work_cover.getElementsByTagName("img")[0].setAttribute("style", null);
        work_cover.getElementsByTagName("img")[0].src = url;

        let img = contents.getElementsByClassName("workspace_work_contents_right_top_cover")[0].getElementsByTagName("img")[0];
        img.setAttribute("style", null);
        img.src = url;
    }
}







function workspaceWorkUploadCoverContentsChange(menu) {
    let contents = document.getElementsByClassName("edit_profile_picture_contents")[0];
    let item = document.getElementsByClassName("edit_profile_picture_navigation_item");
    let bottom_line = document.getElementsByClassName("edit_profile_picture_navigation_bottom_line")[0];
    if (menu == 1) {
        item[0].classList.add("edit_profile_picture_navigation_item_selected");
        item[1].classList.remove("edit_profile_picture_navigation_item_selected");
        bottom_line.style.marginLeft = "0%";

        checkHtmlPopupContents();
        contents.innerHTML = getHtmlWorkspaceWorkUploadCoverUploadImage();
    } else if (menu == 2) {
        item[0].classList.remove("edit_profile_picture_navigation_item_selected");
        item[1].classList.add("edit_profile_picture_navigation_item_selected");
        bottom_line.style.marginLeft = "50%";

        checkHtmlPopupContents();
        contents.innerHTML = getHtmlWorkspaceWorkUploadCoverProvidedImages();
    }
}












function getHtmlWorkspaceWorkUploadCoverProvidedImages() {
    let html = '';

    let images = getImageUrlWorkspaceWorkUploadCoverProvidedImages("illustration");
    let contents = '';
    for (let i = 0; i < images.length; i++) {
        contents += `
            <div class = "workspace_work_cover_upload_provided_images_contents_img img_wrap md-ripples" onclick = "workspaceWorkUploadImageAddEl('` + images[i] + `'); history.back();">
                <img src = "` + images[i] + `" onload = "imageLoad(event);" loading = "lazy">
            </div>
        `;
    }

    html = `
        <div class = "workspace_work_cover_upload_provided_images">
            <div class = "workspace_work_cover_upload_provided_images_top scroll">
                <div class = "workspace_work_cover_upload_provided_images_top_item md-ripples workspace_work_cover_upload_provided_images_top_item_selected" onclick = "setContentsWorkspaceWorkUploadCoverProvidedImages('illustration');">
                    ` + getLanguage("provided_images_illustration") + `
                </div>
                <div class = "workspace_work_cover_upload_provided_images_top_item md-ripples" onclick = "setContentsWorkspaceWorkUploadCoverProvidedImages('fantasy');">
                    ` + getLanguage("provided_images_fantasy") + `
                </div>
                <div class = "workspace_work_cover_upload_provided_images_top_item md-ripples" onclick = "setContentsWorkspaceWorkUploadCoverProvidedImages('romance');">
                    ` + getLanguage("provided_images_romance") + `
                </div>
                <div class = "workspace_work_cover_upload_provided_images_top_item md-ripples" onclick = "setContentsWorkspaceWorkUploadCoverProvidedImages('nature');">
                    ` + getLanguage("provided_images_nature") + `
                </div>
                <div class = "workspace_work_cover_upload_provided_images_top_item md-ripples" onclick = "setContentsWorkspaceWorkUploadCoverProvidedImages('science');">
                    ` + getLanguage("provided_images_science") + `
                </div>
                <div class = "workspace_work_cover_upload_provided_images_top_item md-ripples" onclick = "setContentsWorkspaceWorkUploadCoverProvidedImages('dark');">
                    ` + getLanguage("provided_images_dark") + `
                </div>
                <div class = "workspace_work_cover_upload_provided_images_top_item md-ripples" onclick = "setContentsWorkspaceWorkUploadCoverProvidedImages('sf');">
                    ` + getLanguage("provided_images_sf") + `
                </div>
            </div>

            <div class = "workspace_work_cover_upload_provided_images_contents">
                ` + contents + `
            </div>
        </div>

        <div style = "width: 800px; height: 0px;"></div>
    `;

    return html;
}

function setContentsWorkspaceWorkUploadCoverProvidedImages(name) {
    checkHtmlPopupContents();
    let contents = document.getElementsByClassName("workspace_work_cover_upload_provided_images_contents")[0];
    contents.innerHTML = '';
    let images = getImageUrlWorkspaceWorkUploadCoverProvidedImages(name);
    for (let i = 0; i < images.length; i++) {
        let newEl = document.createElement("div");
        newEl.classList.add("workspace_work_cover_upload_provided_images_contents_img");
        newEl.classList.add("img_wrap");
        newEl.classList.add("md-ripples");
        newEl.setAttribute("tabindex", "0");
        newEl.setAttribute("onfocus", 'focusAccessibility(event);');
        newEl.innerHTML = `
            <img src = "` + images[i] + `" onload = "imageLoad(event);" loading = "lazy">
        `;
        newEl.setAttribute("onclick", "workspaceWorkUploadImageAddEl('" + images[i] + "'); history.back();");
        contents.appendChild(newEl);
    }
}

function getImageUrlWorkspaceWorkUploadCoverProvidedImages(name) {
    let illustration = new Array(
        "https://img.louibooks.com/provided_work_cover/illustration/1.webp", "https://img.louibooks.com/provided_work_cover/illustration/2.webp",
        "https://img.louibooks.com/provided_work_cover/illustration/3.webp", "https://img.louibooks.com/provided_work_cover/illustration/4.webp",
        "https://img.louibooks.com/provided_work_cover/illustration/5.webp", "https://img.louibooks.com/provided_work_cover/illustration/6.webp",
        "https://img.louibooks.com/provided_work_cover/illustration/7.webp", "https://img.louibooks.com/provided_work_cover/illustration/8.webp",
        "https://img.louibooks.com/provided_work_cover/illustration/9.webp", "https://img.louibooks.com/provided_work_cover/illustration/10.webp",
        "https://img.louibooks.com/provided_work_cover/illustration/11.webp",
    );
    let fantasy = new Array(
        "https://img.louibooks.com/provided_work_cover/fantasy/1.jpg", "https://img.louibooks.com/provided_work_cover/fantasy/2.jpg",
        "https://img.louibooks.com/provided_work_cover/fantasy/3.jpg", "https://img.louibooks.com/provided_work_cover/fantasy/4.jpg",
        "https://img.louibooks.com/provided_work_cover/fantasy/5.jpg", "https://img.louibooks.com/provided_work_cover/fantasy/6.jpg",
        "https://img.louibooks.com/provided_work_cover/fantasy/7.jpg", "https://img.louibooks.com/provided_work_cover/fantasy/8.jpg",
        "https://img.louibooks.com/provided_work_cover/fantasy/9.jpg", "https://img.louibooks.com/provided_work_cover/fantasy/10.jpg",
        "https://img.louibooks.com/provided_work_cover/fantasy/11.png", "https://img.louibooks.com/provided_work_cover/fantasy/12.jpg",
        "https://img.louibooks.com/provided_work_cover/fantasy/13.jpg", "https://img.louibooks.com/provided_work_cover/fantasy/14.jpg",
        "https://img.louibooks.com/provided_work_cover/fantasy/15.jpg", "https://img.louibooks.com/provided_work_cover/fantasy/16.png",
        "https://img.louibooks.com/provided_work_cover/fantasy/17.jpg", "https://img.louibooks.com/provided_work_cover/fantasy/18.jpg",
        "https://img.louibooks.com/provided_work_cover/fantasy/19.jpg", "https://img.louibooks.com/provided_work_cover/fantasy/20.jpg",
        "https://img.louibooks.com/provided_work_cover/fantasy/21.jpg", "https://img.louibooks.com/provided_work_cover/fantasy/22.jpg",
        "https://img.louibooks.com/provided_work_cover/fantasy/23.jpg", "https://img.louibooks.com/provided_work_cover/fantasy/24.jpg",
        "https://img.louibooks.com/provided_work_cover/fantasy/25.jpg",
    );
    let romance = new Array(
        "https://img.louibooks.com/provided_work_cover/romance/1.jpg", "https://img.louibooks.com/provided_work_cover/romance/2.jpg",
        "https://img.louibooks.com/provided_work_cover/romance/3.jpg", "https://img.louibooks.com/provided_work_cover/romance/4.png",
        "https://img.louibooks.com/provided_work_cover/romance/5.jpg",
    );
    let nature = new Array(
        "https://img.louibooks.com/provided_work_cover/nature/1.jpg",
    );
    let science = new Array(
        "https://img.louibooks.com/provided_work_cover/science/1.jpg", "https://img.louibooks.com/provided_work_cover/science/2.jpg",
        "https://img.louibooks.com/provided_work_cover/science/3.jpg", "https://img.louibooks.com/provided_work_cover/science/4.jpg",
    );
    let dark = new Array(
        "https://img.louibooks.com/provided_work_cover/dark/1.png", "https://img.louibooks.com/provided_work_cover/dark/2.jpg",
        "https://img.louibooks.com/provided_work_cover/dark/3.jpg", "https://img.louibooks.com/provided_work_cover/dark/4.jpg",
    );
    let sf = new Array(
        "https://img.louibooks.com/provided_work_cover/sf/1.jpg", "https://img.louibooks.com/provided_work_cover/sf/2.jpg",
        "https://img.louibooks.com/provided_work_cover/sf/3.jpg", "https://img.louibooks.com/provided_work_cover/sf/4.jpg",
        "https://img.louibooks.com/provided_work_cover/sf/5.jpg", "https://img.louibooks.com/provided_work_cover/sf/6.jpg",
        "https://img.louibooks.com/provided_work_cover/sf/7.jpg", "https://img.louibooks.com/provided_work_cover/sf/8.jpg",
        "https://img.louibooks.com/provided_work_cover/sf/9.jpg", "https://img.louibooks.com/provided_work_cover/sf/10.png",
        "https://img.louibooks.com/provided_work_cover/sf/11.jpg", "https://img.louibooks.com/provided_work_cover/sf/12.jpg",
    );

    let items = document.getElementsByClassName("workspace_work_cover_upload_provided_images_top_item");
    for (let i = 0; i < items.length; i++) {
        items[i].classList.remove("workspace_work_cover_upload_provided_images_top_item_selected");
    }

    if (name == "illustration") {
        if (items[0] != null) {
            items[0].classList.add("workspace_work_cover_upload_provided_images_top_item_selected");
        }
        return illustration;
    } else if (name == "fantasy") {
        if (items[1] != null) {
            items[1].classList.add("workspace_work_cover_upload_provided_images_top_item_selected");
        }
        return fantasy;
    } else if (name == "romance") {
        if (items[2] != null) {
            items[2].classList.add("workspace_work_cover_upload_provided_images_top_item_selected");
        }
        return romance;
    } else if (name == "nature") {
        if (items[3] != null) {
            items[3].classList.add("workspace_work_cover_upload_provided_images_top_item_selected");
        }
        return nature;
    } else if (name == "science") {
        if (items[4] != null) {
            items[4].classList.add("workspace_work_cover_upload_provided_images_top_item_selected");
        }
        return science;
    } else if (name == "dark") {
        if (items[5] != null) {
            items[5].classList.add("workspace_work_cover_upload_provided_images_top_item_selected");
        }
        return dark;
    } else if (name == "sf") {
        if (items[6] != null) {
            items[6].classList.add("workspace_work_cover_upload_provided_images_top_item_selected");
        }
        return sf;
    }
}





