

var workspacePartUserTranslationLoadNumbers = new Array();

function menuWorkspacePartUserTranslationLoad(menuNumber) {
    let contents = document.getElementById("contents_" + menuNumber);
    let userTranslationInfo = JSON.parse(contents.getElementsByClassName("user_translation_info")[0].innerHTML);
    
    let numbers = userTranslationInfo["numbers"].split(",");
    let info = userTranslationInfo["info"];

    //번호들 변수에 등록
    workspacePartUserTranslationLoadNumbers[menuNumber] = numbers;

    if (info != null && info.length != 0) {
        for (let i = 0; i < info.length; i++) {
            addItemWorkspacePartUserTranslation(menuNumber, info[i]);
    
            let array = workspacePartUserTranslationLoadNumbers[menuNumber];
            array = array.remove("" + info[i]["number"]);
            workspacePartUserTranslationLoadNumbers[menuNumber] = array;
        }
        checkWorkspacePartUserTranslationMoreLoading(menuNumber);
    } else {
        noDataWorkspacePartUserTranslation(menuNumber);
    }

    //제목
    let title = contents.getElementsByClassName("menu_workspace_part_user_translation_title")[0];
    title.innerHTML = getLanguage("menu_workspace_part_user_translation_title");

    //데이터 없음
    let no_data = contents.getElementsByClassName("menu_workspace_part_user_translation_no_data")[0];
    no_data.getElementsByClassName("menu_workspace_part_user_translation_no_data_title")[0].innerHTML = getLanguage("menu_workspace_part_user_translation_no_data");
    no_data.getElementsByClassName("menu_workspace_part_user_translation_no_data_description")[0].innerHTML = getLanguage("no_data_description");

    //정렬
    let sort_box_title = contents.getElementsByClassName("sort_box_title");
    sort_box_title[0].innerHTML = getLanguage("menu_workspace_part_user_translation_sort:0");
    sort_box_title[1].innerHTML = getLanguage("language:select_item:all");
    sort_box_title[2].innerHTML = getLanguage("location:select_item:all");
}

function noDataWorkspacePartUserTranslation(menuNumber) {
    let contents = document.getElementById("contents_" + menuNumber);
    let no_data = contents.getElementsByClassName("menu_workspace_part_user_translation_no_data")[0];
    no_data.style.display = "flex";
}

function addItemWorkspacePartUserTranslation(menuNumber, info) {
    let contents = document.getElementById("contents_" + menuNumber);
    let items = contents.getElementsByClassName("menu_workspace_part_user_translation_items")[0];
    let menuInfo = JSON.parse(contents.getElementsByClassName("info")[0].innerHTML);

    let no_data = contents.getElementsByClassName("menu_workspace_part_user_translation_no_data")[0];
    no_data.style.display = "none";

    //신뢰성이 높은 사용자
    let trusted = "";
    if (info["isTrusted"] == true || info["isTrusted"] == "true") {
        trusted = `
            <div class = "menu_workspace_part_user_translation_item_right_top_item" style = "background-color: var(--color-success-trans2); color: var(--color-success);">
                <!-- Generated by IcoMoon.io -->
                <svg style = "fill: var(--color-success);" version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19.293 5.293l-10.293 10.293-4.293-4.293c-0.391-0.391-1.024-0.391-1.414 0s-0.391 1.024 0 1.414l5 5c0.391 0.391 1.024 0.391 1.414 0l11-11c0.391-0.391 0.391-1.024 0-1.414s-1.024-0.391-1.414 0z"></path></svg>
                ` + getLanguage("menu_workspace_part_user_translation_item:is_trusted") + `
            </div>
        `;
    }

    let description = "";
    description += getLanguage("menu_workspace_part_user_translation_item_description:0");
    description += "<br /><br />" + getLanguage("menu_workspace_part_user_translation_item_description:1").replaceAll("{R:0}", "<b>" + getLanguage("language:" + info["language"]) + "</b>").replaceAll("{R:1}", "<b>" + info["nickname"] + "</b>");
    description += "<br /><br />" + getLanguage("menu_workspace_part_user_translation_item_description:2");
    if (info["isAlreadyTranslated"] == true || info["isAlreadyTranslated"] == "true") {
        description += "<br />" + getLanguage("menu_workspace_part_user_translation_item_description:3");
    }

    let description2 = getLanguage("menu_workspace_part_user_translation_item_description:4");
    description2 = description2.replaceAll("{R:0}", "<b>" + capacityUnit(info["size"]) + "</b>");
    if (info["isThumbnail"] == true || info["isThumbnail"] == "true") {
        description2 = description2.replaceAll("{R:1}", "<b>" + getLanguage("menu_workspace_part_user_translation_item_is_thumbnail:true") + "</b>");
    } else {
        description2 = description2.replaceAll("{R:1}", "<b>" + getLanguage("menu_workspace_part_user_translation_item_is_thumbnail:false") + "</b>");
    }

    let newEl = document.createElement("div");
    newEl.setAttribute("number", info["number"]);
    newEl.classList.add("visible_element");
    newEl.classList.add("variable_element");
    newEl.classList.add("menu_workspace_part_user_translation_item");
    newEl.innerHTML = `
        <div class = "menu_workspace_part_user_translation_item_left immutable_element md-ripples">
            <div class = "profile_element">
                <div class = "profile_info">` + JSON.stringify(info["profile"]) + `</div>
                <div class = "profile_image"></div>
            </div>
        </div>
        <div class = "menu_workspace_part_user_translation_item_right">
            <div class = "menu_workspace_part_user_translation_item_right_nickname immutable_element md-ripples">
                ` + info["nickname"] + `
            </div>
            <div class = "menu_workspace_part_user_translation_item_right_top_items">
                <div class = "menu_workspace_part_user_translation_item_right_top_item">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="50" height="50" viewBox="0 0 50 50"><defs><clipPath id="b"><rect width="50" height="50"></rect></clipPath></defs><g id="a" clip-path="url(#b)"><g transform="translate(0 -10)"><rect width="3" height="39" rx="1.5" transform="translate(13.339 12.326) rotate(20)"></rect><rect width="3" height="39" rx="1.5" transform="translate(12.35 13.352) rotate(-20)"></rect><rect width="3" height="15.5" rx="1.5" transform="translate(22.179 33.413) rotate(90)"></rect></g><g transform="translate(4.821 6)"><rect width="3" height="23.5" rx="1.5" transform="translate(45.179 15.413) rotate(90)"></rect><rect width="3" height="6.299" rx="1.5" transform="translate(34.929 17.589) rotate(180)"></rect><path d="M6.258-1.278A1.576,1.576,0,0,1,7.282.152s-3.4,8.118-4.351,14.5A42.123,42.123,0,0,0,3,26.749a1.5,1.5,0,0,1-3,0A46.581,46.581,0,0,1,.157,14.4C1.163,7.87,4.524-.436,4.524-.436A1.37,1.37,0,0,1,6.258-1.278Z" transform="translate(30.054 41.378) rotate(-150)"></path><path d="M-4.084.024A1.4,1.4,0,0,1-2.138.58,46.577,46.577,0,0,1,2.6,12.127a40.794,40.794,0,0,1,.4,11.8,1.5,1.5,0,0,1-3,0,25.612,25.612,0,0,0,0-10.38A49.119,49.119,0,0,0-4.77,1.8,1.48,1.48,0,0,1-4.084.024Z" transform="translate(39.585 41.423) rotate(150)"></path></g></g></svg>
                    ` + getLanguage("language:" + info["language"]) + `
                </div>
                <div class = "menu_workspace_part_user_translation_item_right_top_item">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="50" height="50" viewBox="0 0 50 50"><defs><clipPath id="b"><rect width="50" height="50"></rect></clipPath></defs><g id="a" clip-path="url(#b)"><path d="M25,50A25.007,25.007,0,0,1,15.269,1.965,25.007,25.007,0,0,1,34.731,48.036,24.843,24.843,0,0,1,25,50ZM25,3A22,22,0,1,0,47,25,22.025,22.025,0,0,0,25,3Z"></path><rect width="48" height="2" transform="translate(26 1) rotate(90)"></rect><path d="M0,0S11.775-11.288,23.775-11.288,48,0,48,0V2S35.775-9.288,23.775-9.288,0,2,0,2Z" transform="translate(26 1) rotate(90)"></path><path d="M0,0S11.775-11.288,23.775-11.288,48,0,48,0V2S35.775-9.288,23.775-9.288,0,2,0,2Z" transform="translate(24 49) rotate(-90)"></path><path d="M0,0S11.923-4.994,23.923-4.994,48,0,48,0V2S35.923-2.994,23.923-2.994,0,2,0,2Z" transform="translate(49 31.856) rotate(-180)"></path><path d="M0,0S11.923-4.994,23.923-4.994,48,0,48,0V2S35.923-2.994,23.923-2.994,0,2,0,2Z" transform="translate(1 17.85)"></path></g></svg>
                    ` + getLanguage("location:" + info["location"]) + `
                </div>
                <div class = "menu_workspace_part_user_translation_item_right_top_item">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="50" height="50" viewBox="0 0 50 50"><defs><clipPath id="b"><rect width="50" height="50"></rect></clipPath></defs><g id="a" clip-path="url(#b)"><path d="M23.709,37.886h0L0,24.772,23.71,12.207,49.543,24.772,23.71,37.886Zm.134-22.5L6.133,24.772l17.71,9.8,19.3-9.8Z" transform="translate(0.228 -11.772)"></path><g transform="translate(1.456)"><path d="M1.451-.035A1.6,1.6,0,0,1,3,1.543L3.434,25.3a1.466,1.466,0,0,1-1.488,1.521A1.6,1.6,0,0,1,.4,25.244L-.037,1.486A1.466,1.466,0,0,1,1.451-.035Z" transform="translate(-0.648 25.64) rotate(-60)"></path><path d="M2.639.067A1.466,1.466,0,0,1,4.127,1.588L3.689,25.347a1.6,1.6,0,0,1-1.545,1.578A1.466,1.466,0,0,1,.656,25.4L1.094,1.645A1.6,1.6,0,0,1,2.639.067Z" transform="translate(43.172 22.047) rotate(60)"></path></g><g transform="translate(1.456 11)"><path d="M1.451-.035A1.6,1.6,0,0,1,3,1.543L3.434,25.3a1.466,1.466,0,0,1-1.488,1.521A1.6,1.6,0,0,1,.4,25.244L-.037,1.486A1.466,1.466,0,0,1,1.451-.035Z" transform="translate(-0.648 25.64) rotate(-60)"></path><path d="M2.639.067A1.466,1.466,0,0,1,4.127,1.588L3.689,25.347a1.6,1.6,0,0,1-1.545,1.578A1.466,1.466,0,0,1,.656,25.4L1.094,1.645A1.6,1.6,0,0,1,2.639.067Z" transform="translate(43.172 22.047) rotate(60)"></path></g></g></svg>
                    ` + getLanguage("menu_workspace_part_user_translation_item:contribute").replaceAll("{R:0}", commas(info["contribute"])) + `
                </div>
                ` + trusted + `
            </div>
            <div class = "menu_workspace_part_user_translation_item_right_line"></div>
            <div class = "menu_workspace_part_user_translation_item_right_description">
                ` + description + `
            </div>
            <div class = "menu_workspace_part_user_translation_item_right_line"></div>
            <div class = "menu_workspace_part_user_translation_item_right_description">
                ` + description2 + `
            </div>
            <div class = "menu_workspace_part_user_translation_item_right_line"></div>
            <div class = "menu_workspace_part_user_translation_item_right_button_items">
                <div class = "menu_workspace_part_user_translation_item_right_button md-ripples" onclick = "loadMenu_viewer(` + menuInfo["partNumber"] + `, '` + menuInfo["partType"] + `', null, null, ` + info["number"] + `);">
                    <!-- Generated by IcoMoon.io -->
                    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.199 13.599c0.992 1.327 2.43 2.126 3.948 2.345s3.123-0.142 4.45-1.134c0.239-0.179 0.465-0.375 0.655-0.568l2.995-2.995c1.163-1.204 1.722-2.751 1.696-4.285s-0.639-3.061-1.831-4.211c-1.172-1.132-2.688-1.692-4.199-1.683-1.492 0.008-2.984 0.571-4.137 1.683l-1.731 1.721c-0.392 0.389-0.394 1.023-0.004 1.414s1.023 0.394 1.414 0.004l1.709-1.699c0.77-0.742 1.763-1.117 2.76-1.123 1.009-0.006 2.016 0.367 2.798 1.122 0.795 0.768 1.203 1.783 1.221 2.808s-0.355 2.054-1.11 2.836l-3.005 3.005c-0.114 0.116-0.263 0.247-0.428 0.37-0.885 0.662-1.952 0.902-2.967 0.756s-1.971-0.678-2.632-1.563c-0.331-0.442-0.957-0.533-1.4-0.202s-0.533 0.957-0.202 1.4zM14.801 10.401c-0.992-1.327-2.43-2.126-3.948-2.345s-3.124 0.142-4.451 1.134c-0.239 0.179-0.464 0.375-0.655 0.568l-2.995 2.995c-1.163 1.204-1.722 2.751-1.696 4.285s0.639 3.061 1.831 4.211c1.172 1.132 2.688 1.692 4.199 1.683 1.492-0.008 2.984-0.571 4.137-1.683l1.723-1.723c0.391-0.391 0.391-1.024 0-1.414s-1.024-0.391-1.414 0l-1.696 1.698c-0.77 0.742-1.763 1.117-2.76 1.123-1.009 0.006-2.016-0.367-2.798-1.122-0.795-0.768-1.203-1.783-1.221-2.808s0.355-2.054 1.11-2.836l3.005-3.005c0.114-0.116 0.263-0.247 0.428-0.37 0.885-0.662 1.952-0.902 2.967-0.756s1.971 0.678 2.632 1.563c0.331 0.442 0.957 0.533 1.4 0.202s0.533-0.957 0.202-1.4z"></path></svg>
                    ` + getLanguage("menu_workspace_part_user_translation_item_button:0") + `
                </div>
                <div class = "menu_workspace_part_user_translation_item_right_button md-ripples" onclick = "workspacePartUserTranslationButton(` + menuNumber + `, ` + menuInfo["partNumber"] + `, ` + info["number"] + `, false);">
                    <!-- Generated by IcoMoon.io -->
                    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5.293 6.707l5.293 5.293-5.293 5.293c-0.391 0.391-0.391 1.024 0 1.414s1.024 0.391 1.414 0l5.293-5.293 5.293 5.293c0.391 0.391 1.024 0.391 1.414 0s0.391-1.024 0-1.414l-5.293-5.293 5.293-5.293c0.391-0.391 0.391-1.024 0-1.414s-1.024-0.391-1.414 0l-5.293 5.293-5.293-5.293c-0.391-0.391-1.024-0.391-1.414 0s-0.391 1.024 0 1.414z"></path></svg>
                    ` + getLanguage("menu_workspace_part_user_translation_item_button:1") + `
                </div>
                <div class = "menu_workspace_part_user_translation_item_right_button md-ripples" onclick = "workspacePartUserTranslationButton(` + menuNumber + `, ` + menuInfo["partNumber"] + `, ` + info["number"] + `, true);">
                    <!-- Generated by IcoMoon.io -->
                    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19.293 5.293l-10.293 10.293-4.293-4.293c-0.391-0.391-1.024-0.391-1.414 0s-0.391 1.024 0 1.414l5 5c0.391 0.391 1.024 0.391 1.414 0l11-11c0.391-0.391 0.391-1.024 0-1.414s-1.024-0.391-1.414 0z"></path></svg>
                    ` + getLanguage("menu_workspace_part_user_translation_item_button:2") + `
                </div>
            </div>
        </div>
    `;

    items.appendChild(newEl);
}



















































function showWorkspacePartUserTranslationMoreLoading(menuNumber) {
    let contents = document.getElementById("contents_" + menuNumber);
    let loading = contents.getElementsByClassName("workspace_part_user_translation_contents_loading")[0];
    loading.style.display = "block";
}
function hideWorkspacePartUserTranslationMoreLoading(menuNumber) {
    let contents = document.getElementById("contents_" + menuNumber);
    let loading = contents.getElementsByClassName("workspace_part_user_translation_contents_loading")[0];
    loading.style.display = "none";
}
function checkWorkspacePartUserTranslationMoreLoading(menuNumber) {
    if (workspacePartUserTranslationLoadNumbers[menuNumber].length == 0) {
        hideWorkspacePartUserTranslationMoreLoading(menuNumber);
        workspacePartUserTranslationLoadNumbers[menuNumber] = null;
    } else {
        showWorkspacePartUserTranslationMoreLoading(menuNumber);
    }
}

let isWorkspacePartUserTranslationMoreLoad = new Array();

function checkWorkspacePartUserTranslationLoad() {
    if (getCurrentMenuName() == "workspace_part_user_translation") {
        let info = JSON.parse(contents.getElementsByClassName("info")[0].innerHTML);
        let boxSize = 75;

        let scrollPercent = ((document.documentElement.scrollTop + window.innerHeight) / (document.documentElement.scrollHeight - boxSize)) * 100;
        if (scrollPercent >= 100) {
            let number = getCurrentMenuNumber();
            if (isWorkspacePartUserTranslationMoreLoad[number] == null && workspacePartUserTranslationLoadNumbers[number] != null && workspacePartUserTranslationLoadNumbers[number][0] != "") {
                isWorkspacePartUserTranslationMoreLoad[number] = true;
                moreLoadWorkspacePartUserTranslation(number, info["partNumber"]);
            }
        }
    }
}
addEventListener("scroll", checkWorkspacePartUserTranslationLoad);
addEventListener("resize", checkWorkspacePartUserTranslationLoad);
addEventListener("focus", checkWorkspacePartUserTranslationLoad);








function moreLoadWorkspacePartUserTranslation(menuNumber, partNumber) {
    if (workspacePartUserTranslationLoadNumbers[menuNumber] == null || workspacePartUserTranslationLoadNumbers[menuNumber].length == 0) {
        workspacePartUserTranslationLoadNumbers[menuNumber] = null;
        isWorkspacePartUserTranslationMoreLoad[menuNumber] = null;
        return;
    }

    const xhr = new XMLHttpRequest();
    const method = "POST";
    
    xhr.open(method, "/menu/workspace/php/part/user_translation/getInfo.php");
    
    xhr.addEventListener('readystatechange', function (event) {
        const { target } = event;
        if (target.readyState === XMLHttpRequest.DONE) {
            const { status } = target;
            if (status === 0 || (status >= 200 && status < 400)) {
                let xhrHtml = xhr.responseText;
                let info = JSON.parse(xhrHtml);

                for (let i = 0; i < info.length; i++) {
                    addItemWorkspacePartUserTranslation(menuNumber, info[i]);
            
                    let array = workspacePartUserTranslationLoadNumbers[menuNumber];
                    array = array.remove("" + info[i]["number"]);
                    workspacePartUserTranslationLoadNumbers[menuNumber] = array;
                }

                isWorkspacePartUserTranslationMoreLoad[menuNumber] = null;
                checkWorkspacePartUserTranslationMoreLoading(menuNumber);
            } else {
                if (status == 504) {
                    //시간 초과
                    serverResponseErrorMessage(0);
                } else {
                    //오류 발생
                    serverResponseErrorMessage(1);
                }
            }
        }
    });

    let numbers = workspacePartUserTranslationLoadNumbers[menuNumber];
    let numbersMaxCount = (numbers.length >= 15) ? 15 : numbers.length;
    numbers = numbers.splice(0, numbersMaxCount);
    
    var formData = new FormData();
    formData.append("numbers", numbers.join(","));
    formData.append("lang", userLanguage);
    formData.append("partNumber", partNumber);

    xhr.send(formData);
}






















































function menuWorkspacePartUserTranslationOptionLoad(menuNumber, partNumber) {
    let contents = document.getElementById("contents_" + menuNumber);
    let items = contents.getElementsByClassName("menu_workspace_part_user_translation_items")[0];
    let sort_box = contents.getElementsByClassName("sort_box");

    loading();

    const xhr = new XMLHttpRequest();
    const method = "POST";
    
    xhr.open(method, "/menu/workspace/php/part/user_translation/getInfoNumbers.php");
    
    xhr.addEventListener('readystatechange', function (event) {
        const { target } = event;
        if (target.readyState === XMLHttpRequest.DONE) {
            const { status } = target;
            if (status === 0 || (status >= 200 && status < 400)) {
                let xhrHtml = xhr.responseText;
                let info = JSON.parse(xhrHtml);

                items.textContent = "";
                let numbers = info["numbers"].split(",");
                workspacePartUserTranslationLoadNumbers[menuNumber] = numbers;

                //
                if (numbers.length != 0 && numbers[0] != "") {
                    let worksInfo = info["info"];
                    for (let i = 0; i < worksInfo.length; i++) {
                        addItemWorkspacePartUserTranslation(menuNumber, worksInfo[i]);
                
                        let array = workspacePartUserTranslationLoadNumbers[menuNumber];
                        array = array.remove("" + worksInfo[i]["number"]);
                        workspacePartUserTranslationLoadNumbers[menuNumber] = array;
                    }
                    checkWorkspacePartUserTranslationMoreLoading(menuNumber);
                } else {
                    noDataWorkspacePartUserTranslation(menuNumber);
                    hideWorkspacePartUserTranslationMoreLoading(menuNumber);
                }

                isWorkspacePartUserTranslationMoreLoad[menuNumber] = null;
            } else {
                if (status == 504) {
                    //시간 초과
                    serverResponseErrorMessage(0);
                } else {
                    //오류 발생
                    serverResponseErrorMessage(1);
                }
            }
            loadingComplete();
        }
    });

    var formData = new FormData();
    formData.append("sort", sort_box[0].getAttribute("value"));
    formData.append("language", sort_box[1].getAttribute("value"));
    formData.append("location", sort_box[2].getAttribute("value"));
    formData.append("lang", userLanguage);
    formData.append("partNumber", partNumber);

    xhr.send(formData);
}


















































function getMenuWorkspacePartUserTranslationSortItems() {
    let items = new Array();
    items[0] = {
        "title": getLanguage("menu_workspace_part_user_translation_sort:0"),
        "value": 0
    }
    items[1] = {
        "title": getLanguage("menu_workspace_part_user_translation_sort:1"),
        "value": 1
    }
    return items;
}






















































function workspacePartUserTranslationButton(menuNumber, partNumber, userTranslationNumber, isAccept) {
    let title = null;
    let description = null;
    if (isAccept == false) {
        title = getLanguage("menu_workspace_part_user_translation_submission_confirm_popup:0:title");
        description = getLanguage("menu_workspace_part_user_translation_submission_confirm_popup:0:description");
    } else {
        title = getLanguage("menu_workspace_part_user_translation_submission_confirm_popup:1:title");
        description = getLanguage("menu_workspace_part_user_translation_submission_confirm_popup:1:description");
    }
    confirmPopup(title, description, 'requestWorkspacePartUserTranslation(' + menuNumber + ', ' + partNumber + ', ' + userTranslationNumber + ', ' + isAccept + ');');
}
function requestWorkspacePartUserTranslation(menuNumber, partNumber, userTranslationNumber, isAccept) {
    let contents = document.getElementById("contents_" + menuNumber);
    let items = contents.getElementsByClassName("menu_workspace_part_user_translation_items")[0];
    let child = items.children;
    let item = null;
    for (let i = 0; i < child.length; i++) {
        if (child[i].getAttribute("number") == userTranslationNumber) {
            item = child[i];
            break;
        }
    }

    loading();

    const xhr = new XMLHttpRequest();
    const method = "POST";
    
    if (isAccept == true) {
        xhr.open(method, "/menu/workspace/php/part/user_translation/use.php");
    } else {
        xhr.open(method, "/menu/workspace/php/part/user_translation/delete.php");
    }
    
    xhr.addEventListener('readystatechange', function (event) {
        const { target } = event;
        if (target.readyState === XMLHttpRequest.DONE) {
            const { status } = target;
            if (status === 0 || (status >= 200 && status < 400)) {
                let xhrHtml = xhr.responseText.trim();
                
                let height = item.clientHeight;
                item.style.maxHeight = height + "px";
                function callback() {
                    item.style.animation = "deleteWorkspacePartUserTranslationItem 0.2s forwards";
                    item.style.maxHeight = "0px";
                    item.style.marginBottom = "0px";
                    setTimeout(() => {
                        item.remove();
    
                        //데이터 없음
                        if (child.length == 0 && (workspacePartUserTranslationLoadNumbers[menuNumber] == null || workspacePartUserTranslationLoadNumbers[menuNumber][0] == "")) {
                            noDataWorkspacePartUserTranslation(menuNumber);
                        }
                    }, 200);
                }
                window.requestAnimationFrame(callback);

                if (xhrHtml == "created") {
                    actionMessage(getLanguage("menu_workspace_part_user_translation_submission_message:0"));
                } else if (xhrHtml == "changed") {
                    actionMessage(getLanguage("menu_workspace_part_user_translation_submission_message:1"));
                } else if (xhrHtml == "deleted") {
                    actionMessage(getLanguage("menu_workspace_part_user_translation_submission_message:2"));
                }
            } else {
                if (status == 504) {
                    //시간 초과
                    serverResponseErrorMessage(0);
                } else {
                    //오류 발생
                    serverResponseErrorMessage(1);
                }
            }
            loadingComplete();
        }
    });
    
    var formData = new FormData();
    formData.append("partNumber", partNumber);
    formData.append("userTranslationNumber", userTranslationNumber);

    xhr.send(formData);
}